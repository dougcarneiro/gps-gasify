<div class="flex justify-center items-center h-screen">
  <app-page-card
    [height]="'50%'"
    [width]="'30%'"
    [bgColor]="'#f0f4ff'">
    <div class="flex min-h-full flex-col justify-center">
      <app-logo/>

      <div class="w-full sm:mx-auto sm:w-full sm:max-w-sm">
        <mat-card appearance="outlined" class="!bg-blue-100 p-4">
          <mat-card-content>
            <form [formGroup]="loginForm" class="space-y-6" (ngSubmit)="onSubmit()">
              <div>
                <div class="mt-2">
                  <mat-form-field class="w-full">
                    <mat-label class="!font-medium !text-blue-800">Email</mat-label>
                    <input
                      matInput
                      placeholder="pat@example.com"
                      [formControl]="emailFormControl"
                      (blur)="checkForm()"
                      (input)="checkForm()"
                    />
                    @if (emailFormControl.invalid) {
                      <mat-error>
                        {{ emailErrorMessage() }}
                      </mat-error>
                    }
                  </mat-form-field>
                 </div>
              </div>

              <div>
                <div class="mt-2">
                  <mat-form-field class="w-full">
                    <mat-label class="!font-medium !text-blue-800">Código da Operação</mat-label>
                    <input
                      matInput
                      placeholder="ipiranga-1234"
                      [formControl]="codOperationFormControl"
                      (blur)="checkForm()"
                      (input)="checkForm()"
                    />
                    @if (codOperationFormControl.invalid) {
                      <mat-error>
                        {{ codOperationErrorMessage() }}
                      </mat-error>
                    }
                  </mat-form-field>
                 </div>
              </div>

              <div>
                <div class="flex items-center justify-between">
                </div>
                <div class="mt-2">
                  <mat-form-field
                    class="w-full">
                    <mat-label class="!font-medium !text-blue-800">Senha</mat-label>
                    <input
                      matInput
                      [formControl]="passwordFormControl"
                      type="password"
                      (blur)="checkForm()"
                      (input)="checkForm()"
                      />
                      @if (passwordFormControl.hasError('required')) {
                        <mat-error>
                          {{ passwordErrorMessage() }}
                        </mat-error>
                      }
                  </mat-form-field>
                </div>
              </div>

              <div
                class="flex justify-center">
                <button
                  type="submit"
                  [disabled]="!submitButtonStatus"
                  mat-flat-button
                  class="w-full !rounded-md !text-lg">{{ submitButtonText }}
                  @if (isLoading) {
                    <mat-spinner diameter="24" [strokeWidth]="3" active-indicator-color="bg-blue-100"/>
                  }
                </button>
              </div>
            </form>
          </mat-card-content>
        </mat-card>

        <p class="mt-10 text-center text-sm/6 text-black-500">
          Não possui cadastro?
          <a routerLink="/sign-up" class="cursor-pointer font-semibold text-blue-600 hover:text-blue-500">Crie uma conta agora!</a>
        </p>
      </div>
    </div>
  </app-page-card>
</div>
